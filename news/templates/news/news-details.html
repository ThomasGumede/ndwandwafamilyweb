{% extends '_base.html' %}
{% load static %}
{% block title %}post.title{% endblock title %}

{% block content %}
<section class="w-full bg-custom-h pt-36 mt-16 relative block pb-32 overflow-hidden border-2">
    <div id="header-bg"
        class="absolute top-0 h-fit  border-2 border-custom-primary left-0 bottom-0 right-0 overflow-hidden bg-center opacity-50 bg-no-repeat bg-cover mix-blend-luminosity">
        <img src="{% static 'imgs/home.jpg' %}" alt="" class="w-full h-96 object-cover">
    </div>
    <div class="container">
        <div class="relative block z-40">
            <ul class="relative block">
                <li class="inline-block text-base text-white font-medium opacity-60 relative">
                    <a href="" class="text-white inline-block text-base font-medium">Home</a>
                </li>
                <li class="inline-block text-base text-white font-medium opacity-60 relative">
                    <span>/</span>
                </li>
                <li class="inline-block text-base text-white font-medium opacity-60 relative">
                    <a href="" class="text-white inline-block text-base font-medium">Post</a>
                </li>
                <li class="inline-block text-base text-white font-medium opacity-60 relative">
                    <span>/</span>
                </li>
                <li class="inline-block text-base text-white font-medium opacity-60 relative">
                    <a href="" class="text-white inline-block text-base font-medium">{{post.title}}</a>
                </li>
            </ul>
            <h2 class="text-white text-2xl md:text-5xl font-bold m-0">News details</h2>
        </div>
    </div>
</section>


<section class="relative p-[120px_0_120px] font-sans block">
    <div class="container">
        <div class="flex flex-col md:flex-row items-start -mx-4">
            <div class="w-full max-w-full px-4 flex-shrink-0 md:w-7/12 lg:w-8/12 h-full">
                <div class="relative block ">
                    <div class="relativ block h-96 overflow-hidden">
                        <img src="{{post.image.url}}" alt="" class="w-full object-cover h-full">
                    </div>
                    <div class="relative block mt-3 mb-6 space-y-5">
                        <ul class="relative flex items-center pl-0">
                            <li>
                                <a href="" class="text-sm font-normal text-custom-h">
                                    <i class="fa-solid fa-user-circle text-custom-primary pr-1"></i>
                                    By admin
                                </a>
                            </li>
                            <li class="ml-2">
                                <a href="" class="text-sm font-normal text-custom-h">
                                    <i class="fa-solid fa-user-circle text-custom-primary pr-1"></i>
                                    02 comments
                                </a>
                            </li>
                        </ul>
                        <h3 class="text-3xl font-bold m-0 text-custom-h">{{post.title}}</h3>
                        {{post.content|safe}}
                        
                    </div>
                    <div
                        class="flex items-center mb-6 w-full justify-between flex-wrap border border-[#e1eaea] p-4">
                        <p class="m-0 space-x-1">
                            <span class="text-lg font-bold text-custom-h">Tags: </span>
                            {% for tag in post.tags.all %}
                            <a href=""
                                class="relative text-white text-sm inline-block p-[5px_20px_5px] font-bold bg-custom-primary">{{tag.name}}</a>
                            {% endfor %}
                        </p>
                        <div class="flex items-center">
                            <a href=""
                                class="w-10 h-10 flex items-center justify-center bg-white text-base rounded-full text-custom-h"></a>
                        </div>
                    </div>
                    <div class="comments space-y-5">
                        <h3 class="text-3xl font-bold text-custom-h">02 Comments</h3>
                        <div id="reviews" class="w-full campaign_data transition-all duration-500">
                            <div class="w-full space-y-7">
        
                                <div class="w-full space-y-4">
                                    <div id="review_1" class="w-full p-2 space-y-3">
                                        <div class="flex items-center space-x-3">
                                            <div class="w-11 h-11 rounded-full overflow-hidden">
                                                <img src="{% static 'imgs/home.jpg' %}"
                                                    class="w-full h-full object-cover object-center" />
                                            </div>
                                            <div>
                                                <p class="font-bold text-lg text-black">Thomas Gumede</p>
                                                <p class="text-gray-500 text-sm font-normal">9 Aug, 2023 </p>
                                            </div>
                                        </div>
                                        <div class="text-gray-500 text-base font-normal">
                                            <p>
                                                Lorem ipsum dolor sit, amet consectetur adipisicing elit. Officia
                                                placeat facilis quis nihil assumenda est, eaque sed reiciendis eveniet
                                                iusto perspiciatis adipisci quod odio quas earum ducimus. Ducimus, sunt
                                                repellendus.
                                                Mollitia, tempore nam velit dolorem cupiditate cum. Incidunt esse in ea
                                                at vero laudantium possimus labore rerum voluptate minima, non ipsam!
                                                Nam officiis, ut corrupti blanditiis maxime facere quidem ab.
                                                Ullam harum temporibus rem molestiae sit eius, magni expedita, neque
                                                labore a, delectus deleniti voluptates rerum reprehenderit blanditiis
                                                dolorem. Atque in totam consectetur? Quod dolorum quasi est eaque saepe
                                                iusto?
                                                Iure, blanditiis corrupti, ad nam tempore voluptate hic, earum dolorem
                                                molestias optio dolor laudantium voluptatibus eius tenetur nisi esse
                                                fugit officiis! Magni deserunt eaque, optio labore corporis saepe
                                                obcaecati accusantium.
                                                Cum unde enim aspernatur quis officia, doloremque possimus suscipit sed
                                                doloribus autem voluptas molestias impedit repudiandae exercitationem.
                                                Dolorem pariatur, veritatis aut culpa incidunt voluptatum repellendus
                                                dicta voluptates numquam, labore rerum.
                                            </p>
                                        </div>
                                    </div>
                                </div>
                                <div class="w-full space-y-4 items-center">
                                    <div class="flex items-center space-x-3">
                                        <div class="w-11 h-11 rounded-full overflow-hidden">
                                            {% if request.user.photo %}
                                            <img src="{{request.user.photo.url}}"
                                                class="w-full h-full object-cover object-center" />
                                            {% else %}
                                            <img src="{% static 'imgs/home.jpg' %}"
                                                class="w-full h-full object-cover object-center" />
                                            {% endif %}
                                        </div>
                                        <div>
                                            <p class="font-bold text-lg text-black">Thomas Gumede</p>
                                            <p class="text-gray-500 text-sm font-normal">{{request.user.occupation}}
                                            </p>
                                        </div>
                                    </div>
        
                                    <div class="w-full h-fit">
                                        <form action="">
                                            <input type="hidden" name="rating" id="id_rating" />
                                            <div class="text-gray-500 text-sm mb-2 font-normal">
                                                <p>Write a review for "{{post.title}}"</p>
                                            </div>
                                            
                                            <div class="w-full md:w-10/12 p-2">
                                                <label for="id_review"
                                                    class="block uppercase {% if form.review.errors %}text-red-500 {% else %} text-gray-600 {% endif %} text-xs font-bold mb-2"
                                                    htmlfor="grid-password">
                                                    Write a review
                                                </label>
        
                                                <textarea maxlength="20000" name="review" id="id_review" type="text"
                                                    class="border-0 px-3 py-3 {% if form.review.errors %} h-44 border-2 border-red-500{% endif %} placeholder-blueGray-300 text-gray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150"
                                                    rows="10"> </textarea>
                                            </div>
                                            <div class="mt-3">
                                                <div
                                                    class="text-center inline-block h-12 bg-custom-primary w-[150px] rounded-md cursor-pointer">
                                                    <input type="submit" value="submit"
                                                        class="text-white w-full h-full cursor-pointer text-sm font-semibold" />
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
        
                        </div>
                    </div>
                </div>
            </div>
            <div class="w-full max-w-full flex-shrink-0 px-4 md:w-5/12 lg:w-4/12">
                <div class="relative space-y-5">
                    

                    <div class="relative block overflow-hidden p-[46px_30px_30px] bg-[#f2f7f7]">
                        <h3 class="text-lg mb-1 font-extrabold">Latest Posts</h3>
                        <ul class="space-y-4">
                            {% for post in recent_posts %}
                            <li class="flex items-center ">
                                <div class="pr-5 w-20 h-16 overflow-hidden">
                                    {% if post.image %}
                                    <img src="{{post.image.url}}" alt="" class="w-full h-full object-cover">
                                    {% else %}
                                    <img src="{% static 'imgs/home.jpg' %}" alt="" class="w-full h-full object-cover">
                                    {% endif %}
                                </div>
                                <div class="relative top-[-3px]">
                                    <h3 class="text-lg m-0 text-custom-h">
                                        <span class="text-sm font-normal !text-gray-500">
                                            <i
                                                class="fa-solid fa-clock text-base pr-1 text-custom-primary before:content-['\f017']"></i>
                                            {{post.created}}
                                        </span>
                                        <a href="{{post.get_absolute_url}}" class="block text-base text-black font-extrabold">
                                            {{post.title}}
                                        </a>
                                    </h3>
                                </div>
                            </li>
                            {% endfor %}
                            
                        </ul>
                    </div>
                    <div class="relative block overflow-hidden p-[46px_30px_30px] bg-[#f2f7f7]">
                        <h3 class="text-lg mb-1 font-extrabold">Categories</h3>
                        <ul class="space-y-4">
                            {% for category in categories %}
                            <li class="flex items-center py-2 px-3 bg-transparent duration-500 group hover:bg-white">
                                <a href="" class="text-sm font-normal text-gray-500 duration-500 group-hover:text-custom-h">{{category.label}}</a>
                            </li>
                            {% endfor %}
                            
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>


{% endblock content %}

{% block javascripts %}
<script>
    document.getElementById("header-bg").style.backgroundImage = "{% static 'imgs/home.jpg' %}";

</script>
{% endblock javascripts %}